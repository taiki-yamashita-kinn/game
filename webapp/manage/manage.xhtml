<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:p="http://primefaces.org/ui"
        xmlns:ui="http://java.sun.com/jsf/facelets">
  <h:head>
  <meta http-equiv="Content-Style-Type" content="text/css;charset=UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
<link rel="stylesheet" type="text/css" href="../css/common.css" />
<link rel="stylesheet" type="text/css" href="../css/manage/manage.css" />
<link rel="icon" href="../ico/favicon.ico"/>
  <h:outputStylesheet library="webjars"
		name="font-awesome/4.7.0/css/font-awesome-jsf.css" />
  <title>manage</title>
  </h:head>
  <h:body>
  <ui:include src="../template/header.xhtml" />
<h:form id="form">
	<p:growl id="growl" showDetail="false"/>
	<p:panelGrid id="searchArea">
  		<p:row styleClass="center">
	  		<p:column>
	  			<p:panelGrid>
		  			<p:column styleClass="label">
		  				<p:outputLabel value="ユーザー名"/>
		  			</p:column>
		  			<p:column>
		  				<p:inputText styleClass="inputArea" placeholder="10文字以内" value="#{manageBean.selectUser.userName}"/>
		  			</p:column>
	  			</p:panelGrid>
	  		</p:column>
  		</p:row>
  		<p:row styleClass="center">
	  		<p:column>
	  			<p:panelGrid>
		  			<p:column styleClass="label">
		  				<p:outputLabel value="twitterアカウント"/>
		  			</p:column>
		  			<p:column>
		  				<p:inputText styleClass="inputArea" placeholder="20文字以内" value="#{manageBean.selectUser.twitterAccount}"/>
		  			</p:column>
	  			</p:panelGrid>
	  		</p:column>
  		</p:row>
  		<p:row styleClass="center">
	  		<p:column>
  				<p:commandButton value="検索"  styleClass="buttonDefault" update="form"
	  				action="#{manageBean.search()}" process="form"/>
	  		</p:column>
  		</p:row>
  	</p:panelGrid>

  	<p:dataGrid id="userTable" var="user" value="#{manageBean.userList}" paginator="true" rows="20" paginatorPosition="bottom"
  	paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}"
  	 columns="1" layout="grid">

	    <p:panel style="text-align:center" >
            <p:panelGrid style="width:100%">
            	<p:row>
		            <p:column colspan="2">
				        <h:outputText value="#{user.userName}"/>
				    </p:column>
			    </p:row>
			    <p:row>
				    <p:column>
			        	<h:outputText value="アカウント" />
				    </p:column>
				    <p:column>
			        	<h:outputText value="#{user.twitterAccount}" />
				    </p:column>
			    </p:row>
			    <p:row>
				    <p:column colspan="2" styleClass="center">
			        	<p:commandButton value="停止" process="form" actionListener="#{manageBean.stopUser(user.userId)}"
			        	 update="form"/>
				    </p:column>
			    </p:row>
			    <p:row>
				    <p:column colspan="2" styleClass="center">
			        	<p:commandButton value="削除" process="form" actionListener="#{manageBean.deleteUser(user.userId)}"
			        	 update="form"/>
				    </p:column>
			    </p:row>
            </p:panelGrid>
        </p:panel>
	</p:dataGrid>
  	</h:form>
  </h:body>
</html>